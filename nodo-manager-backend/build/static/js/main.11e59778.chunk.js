(this["webpackJsonpnodo-manager-frontend"]=this["webpackJsonpnodo-manager-frontend"]||[]).push([[0],{119:function(e,t,r){},120:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(35),c=r.n(s),i=r(9),o=r(18),u=r(23),l=r.n(u),m=r(2),d=r.n(m),j=r(5),b=r(21),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALERT":return t.data;case"UNSET_ALERT":return null;default:return e}},p=null,x=function(e){return clearTimeout(p),function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"SET_ALERT",data:e}),p=setTimeout((function(){return r({type:"UNSET_ALERT"})}),4500);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=r(28),g="/api/items",v=null,f={setToken:function(e){v="".concat(e)},getAll:function(){try{var e={headers:{"x-access-token":v}};return l.a.get(g,e).then((function(e){return e.data}))}catch(t){if(t.response)throw{type:"Error Gathering Items",message:t.response.data.message,variant:"warning"};t.request?console.log("err.req",t.request):console.log(t)}return!1},create:function(){var e=Object(j.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"x-access-token":v}},e.next=4,l.a.post(g,t,r);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Error Creating Menu Item",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(j.a)(d.a.mark((function e(t,r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"x-access-token":v}},e.next=4,l.a.put("".concat(g,"/").concat(t),r,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Error Updating Menu Item",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),destroy:function(){var e=Object(j.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"x-access-token":v}},e.next=4,l.a.delete("".concat(g,"/").concat(t),r);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Error Deleting Menu Item",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_ITEMS":return t.data;case"MAKE_ITEM":return[].concat(Object(O.a)(e),[t.data]);case"UPDATE_ITEM":return e.map((function(e){return e._id!==t.data._id?e:t.data}));case"DESTROY_ITEM":return e.filter((function(e){return e._id!==t.data.id}));case"RESET_ITEMS":return[];default:return e}},w=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.create(e);case 2:n=t.sent,r({type:"MAKE_ITEM",data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e,t){return function(){var r=Object(j.a)(d.a.mark((function r(n){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.update(e,t);case 2:a=r.sent,n({type:"UPDATE_ITEM",data:a});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.destroy(e);case 2:r({type:"DESTROY_ITEM",data:{id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C="/api/orders",L=null,E={setToken:function(e){L="".concat(e)},getAll:function(){try{var e={headers:{"x-access-token":L}};return l.a.get(C,e).then((function(e){return e.data}))}catch(t){if(t.response)throw{type:"Error Gathering Orders",message:t.response.data.message,variant:"warning"};t.request?console.log("err.req",t.request):console.log(t)}return!1},create:function(){var e=Object(j.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"x-access-token":L}},e.next=4,l.a.post(C,t,r);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Error Creating Order",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(j.a)(d.a.mark((function e(t,r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"x-access-token":L}},e.next=4,l.a.put("".concat(C,"/").concat(t),r,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Error Updating Order",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),destroy:function(){var e=Object(j.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"x-access-token":L}},e.next=4,l.a.delete("".concat(C,"/").concat(t),r);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Error Removing Order",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_ORDERS":return t.data;case"CREATE_ORDER":return[].concat(Object(O.a)(e),[t.data]);case"UPDATE_ORDER":return e.map((function(e){return e._id!==t.data._id?e:t.data}));case"DELETE_ORDER":return e.filter((function(e){return e._id!==t.data.id}));case"RESET_ORDERS":return[];default:return e}},I=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.create(e);case 2:n=t.sent,r({type:"CREATE_ORDER",data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(e,t){return function(){var r=Object(j.a)(d.a.mark((function r(n){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E.update(e,t);case 2:a=r.sent,n({type:"UPDATE_ORDER",data:a});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.destroy(e);case 2:r({type:"DELETE_ORDER",data:{id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R="/api/users",M=null,D={setToken:function(e){M="".concat(e)},getAll:function(){try{var e={headers:{"x-access-token":M}};return l.a.get(R,e).then((function(e){return e.data}))}catch(t){if(t.response)throw{type:"Error Gathering Users",message:t.response.data.message,variant:"warning"};t.request?console.log("err.req",t.request):console.log(t)}return!1},create:function(){var e=Object(j.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"x-access-token":M}},e.next=4,l.a.post("".concat(R,"/signup"),t,r);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Error Creating User",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(j.a)(d.a.mark((function e(t,r){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"x-access-token":M}},e.next=4,l.a.put("".concat(R,"/").concat(t),r,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Error Updating User",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),destroy:function(){var e=Object(j.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"x-access-token":M}},e.next=4,l.a.delete("".concat(R,"/").concat(t),r);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Error Removing User",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return t.data;case"CREATE_USER":return[].concat(Object(O.a)(e),[t.data]);case"UPDATE_USER":return e.map((function(e){return e.id!==t.data.id?e:t.data}));case"DELETE_USER":return e.filter((function(e){return e.id!==t.data.id}));case"RESET_USERS":return[];default:return e}},U=function(e,t){return function(){var r=Object(j.a)(d.a.mark((function r(n){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,D.create(e);case 2:a=r.sent,null!==t&&n({type:"CREATE_USER",data:a});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},_=function(e,t){return function(){var r=Object(j.a)(d.a.mark((function r(n){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,D.update(e,t);case 2:a=r.sent,n({type:"UPDATE_USER",data:a});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.destroy(e);case 2:r({type:"DELETE_USER",data:{id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=r(25),G=r(19),B=r(38),H=r(11),z={login:function(){var e=Object(j.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("".concat("/api/authenticate","/signin"),{username:t,password:r});case 3:return(n=e.sent).data.accessToken&&localStorage.setItem("user",JSON.stringify(n.data)),e.abrupt("return",n.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}throw{type:"Login Error",message:e.t0.response.data.message,variant:"warning"};case 15:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),logout:function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,localStorage.removeItem("user");case 3:e.next=13;break;case 5:if(e.prev=5,e.t0=e.catch(0),!e.t0.response){e.next=12;break}throw{type:"Logout Error",message:e.t0.response.data.message,variant:"warning"};case 12:e.t0.request?console.log("err.req",e.t0.request):console.log(e.t0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},K=JSON.parse(window.localStorage.getItem("loggedBlogappUser")),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.data;case"UNSET_USER":return null;default:return e}},$=function(e,t){return function(){var r=Object(j.a)(d.a.mark((function r(n){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,z.login(e,t);case 2:a=r.sent,f.setToken(a.accessToken),E.setToken(a.accessToken),D.setToken(a.accessToken),n({type:"SET_USER",data:a});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},J=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.logout();case 2:f.setToken(null),E.setToken(null),D.setToken(null),t({type:"UNSET_USER"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y=r(0),V=function(){var e=Object(i.b)(),t=Object(b.g)(),r=function(){var r=Object(j.a)(d.a.mark((function r(){var n;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n={type:"Hi!",message:"Continuing as guest...",variant:"primary",show:!0},r.next=4,e(x(n));case 4:return r.next=6,e({type:"SET_USER",data:{username:"Guest"}});case 6:t.push("/menu"),r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,e(x(r.t0));case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}();return Object(Y.jsxs)("div",{className:"m-auto p-0",children:[Object(Y.jsx)("h5",{children:"- OR -"}),Object(Y.jsx)("hr",{className:"mb-5"}),Object(Y.jsx)(H.a,{disabled:!0,onClick:r,className:"btn-block",variant:"outline-secondary",children:">"}),Object(Y.jsx)("hr",{className:"mt-5"}),Object(Y.jsx)("h5",{className:"px-5",children:"Continue As Guest"})]})},Q=r(12),X=r(3),Z=r(4),ee=function(e,t){var r=t-e.length;return r<21?"".concat(r," character(s) remaining"):null},te=r(51),re=r(15),ne=function(e,t,r){var n=e.itemAvailability,a=e.itemCategory,s=e.itemDescription,c=e.itemIngredients,i=e.itemName,o=e.itemPrice,u=e.orderCategory,l=e.orderName,m=e.orderNotes,d=e.email,j=e.passcopy,b=e.password,h=e.roleName,p=e.username,x=e.usersName,O={};return Object.keys(e).forEach((function(e){switch(e){case"itemAvailability":n&&""!==n||(O.itemAvailability=Z.itemForms.itemAvailability.isEmpty.errorMessage);break;case"itemCategory":a&&""!==a?a.length>Z.itemForms.itemCategory.maxLength.value&&(O.itemCategory=Z.itemForms.itemCategory.maxLength.value):O.itemCategory=Z.itemForms.itemCategory.isEmpty.errorMessage;break;case"itemDescription":s.length>Z.itemForms.itemDescription.maxLength&&(O.itemDescription=Z.itemForms.itemDescription.maxLength.errorMessage);break;case"itemIngredients":c.length>Z.itemForms.itemIngredients.maxLength&&(O.itemIngredients=Z.itemForms.itemIngredients.maxLength.errorMessage);break;case"itemName":i&&""!==i?i.length>Z.itemForms.itemName.maxLength&&(O.itemName=Z.itemForms.itemName.maxLength.errorMessage):O.itemName=Z.itemForms.itemName.isEmpty.errorMessage;break;case"itemPrice":o&&""!==o?"number"!==typeof o?Number.isNaN(Number(o))?O.itemPrice=Z.itemForms.itemPrice.isNaN.errorMessage:(r("itemPrice",Number(o)),o<0&&(O.itemPrice=Z.itemForms.itemPrice.isNegative.errorMessage)):o<0?O.itemPrice=Z.itemForms.itemPrice.isNegative.errorMessage:o.length>Z.itemForms.itemPrice.maxLength.value&&(O.itemPrice=Z.itemForms.itemPrice.maxLength.errorMessage):O.itemPrice=Z.itemForms.itemPrice.isEmpty.errorMessage;break;case"orderCategory":u||(O.orderCategory=Z.orderForms.orderCategory.errorMessage);break;case"orderName":l&&""!==l?l.length<Z.orderForms.orderName.minLength.value?O.orderName=Z.orderForms.orderName.minLength.errorMessage:l.length>Z.orderForms.orderName.maxLength.value&&(O.orderName=Z.orderForms.orderName.maxLength.errorMessage):O.orderName=Z.orderForms.orderName.isEmpty.errorMessage;break;case"orderNotes":m.length>Z.orderForms.orderNotes.maxLength.value&&(O.orderNotes=Z.orderForms.orderNotes.maxLength.errorMessage);break;case"email":d&&""!==d?d.includes("@")?d.length<Z.userForms.email.minLength.value?O.email=Z.userForms.email.minLength.errorMessage:d.length>Z.userForms.email.maxLength.value&&(O.email=Z.userForms.email.maxLength.errorMessage):O.email=Z.userForms.email.noAtSymbol.errorMessage:O.email=Z.userForms.email.isEmpty.errorMessage;break;case"passcopy":j&&""!==j?j!==b&&(O.passcopy=Z.userForms.passcopy.mismatched.errorMessage):O.passcopy=Z.userForms.passcopy.isEmpty.errorMessage;break;case"password":b&&""!==b?b.length>Z.userForms.password.maxLength.value?O.username=Z.userForms.password.maxLength.errorMessage:b.length<Z.userForms.password.minLength.value&&(O.password=Z.userForms.password.minLength.errorMessage):O.password=Z.userForms.password.isEmpty.errorMessage;break;case"roleName":h?"admin"!==h||t.role.encompassedRoles.includes("admin")?("manager"!==h||t.role.encompassedRoles.includes("manager"))&&("employee"!==h||t.role.encompassedRoles.includes("manager"))||(O.roleName=Z.userForms.roleName.reqManager.errorMessage):O.roleName=Z.userForms.roleName.reqAdmin.errorMessage:O.roleName=Z.userForms.roleName.isEmpty.errorMessage;break;case"username":p&&""!==p?p.length>Z.userForms.username.maxLength.value?O.username=Z.userForms.username.maxLength.errorMessage:p.length<Z.userForms.username.minLength.value&&(O.username=Z.userForms.username.minLength.errorMessage):O.username=Z.userForms.username.isEmpty.errorMessage;break;case"usersName":x&&""!==x?x.length>Z.userForms.usersName.maxLength.value&&(O.usersName=Z.userForms.usersName.maxLength.errorMessage):O.usersName=Z.userForms.usersName.isEmpty.errorMessage}})),O},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.c)((function(e){return e.currentUser})),r=Object(n.useState)(e),a=Object(Q.a)(r,2),s=a[0],c=a[1],o=Object(n.useState)({}),u=Object(Q.a)(o,2),l=u[0],m=u[1],d=e,j=function(e,t){if("object"!==typeof e||null===e||t)if(Array.isArray(e)&&t){var r={};e.map((function(e){return r[e]=t,null})),c(Object(re.a)(Object(re.a)({},s),r))}else c(Object(re.a)(Object(re.a)({},s),{},Object(te.a)({},e,t))),l[e]&&m(Object(re.a)(Object(re.a)({},l),{},Object(te.a)({},e,null)));else{var n={};Object.entries(e).map((function(e){var t=Object(Q.a)(e,2),r=t[0],a=t[1];return n[r]=a,null})),c(Object(re.a)(Object(re.a)({},s),n))}},b=function(){j(d),m({})},h=function(e){e&&e.preventDefault();var r=ne(s,t,j);return!(Object.keys(r).length>0)||(m(r),!1)};return[s,j,l,h,b]},se=function(e){var t=Object.assign({},e),r=Object(i.b)(),n=Object(b.g)(),a=ae({username:"",password:""}),s=Object(Q.a)(a,4),c=s[0],o=s[1],u=s[2],l=s[3],m=function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!l()){e.next=16;break}return e.prev=2,e.next=5,r(J());case 5:return e.next=7,r($(c.username,c.password));case 7:t.setShow&&t.setShow(!1),n.push("/menu"),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),o("password",""),e.next=16,r(x(e.t0));case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)(X.a,{id:"login-form",children:[Object(Y.jsxs)(X.a.Group,{controlId:"username",children:[Object(Y.jsx)(X.a.Label,{children:"Username"}),Object(Y.jsx)(X.a.Control,{type:"text",value:c.username.trimStart(),minLength:Z.userForms.username.minLength.value.toString(),maxLength:Z.userForms.username.maxLength.value.toString(),placeholder:"Username",onChange:function(e){return o("username",e.target.value)},isInvalid:!!u.username}),Object(Y.jsx)(X.a.Text,{children:ee(c.username,Z.userForms.username.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:u.username})]}),Object(Y.jsxs)(X.a.Group,{controlId:"password",children:[Object(Y.jsx)(X.a.Label,{children:"Password"}),Object(Y.jsx)(X.a.Control,{type:"password",value:c.password.trimStart(),minLength:Z.userForms.password.minLength.value.toString(),maxLength:Z.userForms.password.maxLength.value.toString(),placeholder:"Password",onChange:function(e){return o("password",e.target.value)},isInvalid:!!u.password}),Object(Y.jsx)(X.a.Text,{children:ee(c.password,Z.userForms.password.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:u.password})]}),Object(Y.jsx)(H.a,{id:"login-submit-button",type:"submit",onClick:m,children:"Login"})]})},ce=function(){var e=Object(i.b)(),t=Object(b.g)(),r=Object(i.c)((function(e){return e.currentUser})),n=ae({email:"",username:"",password:"",passcopy:""}),a=Object(Q.a)(n,4),s=a[0],c=a[1],o=a[2],u=a[3],l=function(){var n=Object(j.a)(d.a.mark((function n(a){var i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),!u()){n.next=15;break}return n.prev=2,i={name:s.username,email:s.email,username:s.username,password:s.password},n.next=6,e(U(i,r));case 6:c(["email","username","password","passcopy"],""),t.push("/menu"),n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(2),c({email:s.email,username:s.username,password:"",passcopy:""}),n.next=15,e(x(n.t0));case 15:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(Y.jsxs)(X.a,{id:"register-form",children:[Object(Y.jsxs)(X.a.Group,{controlId:"register-email",children:[Object(Y.jsx)(X.a.Label,{children:"Email address"}),Object(Y.jsx)(X.a.Control,{type:"email",value:s.email.trimStart(),minLength:Z.userForms.email.minLength.value.toString(),maxLength:Z.userForms.email.maxLength.value.toString(),placeholder:"Enter email",onChange:function(e){var t=e.target;return c("email",t.value)},isInvalid:!!o.email}),Object(Y.jsx)(X.a.Text,{children:ee(s.email,Z.userForms.email.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:o.email})]}),Object(Y.jsxs)(X.a.Group,{controlId:"register-username",children:[Object(Y.jsx)(X.a.Label,{children:"Username"}),Object(Y.jsx)(X.a.Control,{type:"text",value:s.username.trimStart(),minLength:Z.userForms.username.minLength.value.toString(),maxLength:Z.userForms.username.maxLength.value.toString(),placeholder:"Username",onChange:function(e){var t=e.target;return c("username",t.value)},isInvalid:!!o.username}),Object(Y.jsx)(X.a.Text,{children:ee(s.username,Z.userForms.username.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:o.username})]}),Object(Y.jsxs)(X.a.Group,{controlId:"register-password",children:[Object(Y.jsx)(X.a.Label,{children:"Password"}),Object(Y.jsx)(X.a.Control,{type:"password",value:s.password.trimStart(),minLength:Z.userForms.password.minLength.value.toString(),maxLength:Z.userForms.password.maxLength.value.toString(),placeholder:"Password",onChange:function(e){var t=e.target;return c("password",t.value)},isInvalid:!!o.password}),Object(Y.jsx)(X.a.Text,{children:ee(s.password,Z.userForms.password.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:o.password})]}),Object(Y.jsxs)(X.a.Group,{controlId:"register-passcopy",children:[Object(Y.jsx)(X.a.Label,{children:"Confirm Password"}),Object(Y.jsx)(X.a.Control,{type:"password",value:s.passcopy.trimStart(),minLength:Z.userForms.password.minLength.value.toString(),maxLength:Z.userForms.password.maxLength.value.toString(),placeholder:"Password",onChange:function(e){var t=e.target;return c("passcopy",t.value)},isInvalid:!!o.passcopy}),Object(Y.jsx)(X.a.Text,{children:ee(s.passcopy,Z.userForms.password.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:o.passcopy})]}),Object(Y.jsx)(H.a,{id:"register-submit-button",variant:"primary",type:"submit",onClick:l,children:"Sign Up"})]})},ie=function(){return Object(Y.jsxs)(G.a,{className:"pt-5",children:[Object(Y.jsx)("h1",{children:"Welcome!"}),Object(Y.jsx)("hr",{}),Object(Y.jsxs)(B.a,{children:[Object(Y.jsxs)(q.a,{className:"p-5",children:[Object(Y.jsx)("h2",{children:"Login"}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(se,{})]}),Object(Y.jsx)(q.a,{className:"my-5 px-5 d-flex align-items-center text-center",style:{borderLeft:"1px solid",borderRight:"1px solid",borderColor:"rgba(0,0,0, 0.1)"},children:Object(Y.jsx)(V,{})}),Object(Y.jsxs)(q.a,{className:"p-5",children:[Object(Y.jsx)("h2",{children:"Register Today!"}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(ce,{})]})]})]})},oe=r(17),ue=r(14),le=r(70),me=function(){var e=Object(i.c)((function(e){return e.alert}));return e?(e.type||(e.type="Alert!"),e&&!e.variant&&(e.variant="warning"),Object(Y.jsx)(le.a,{id:"alert",className:"sticky-top",variant:e.variant,children:Object(Y.jsxs)(G.a,{children:[Object(Y.jsx)(le.a.Heading,{children:e.type}),Object(Y.jsx)("hr",{}),Object(Y.jsx)("p",{children:e.message})]})})):null},de=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_VISIBLE":return t.data;default:return e}},je=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"IS_VISIBLE",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},be=function(e){var t=e.item,r=e.show,n=e.setShow,a=Object(i.b)(),s=ae({itemName:t.name,itemCategory:t.category,itemDescription:t.description,itemIngredients:t.ingredients.join(", "),itemPrice:t.price,itemAvailability:t.availability}),c=Object(Q.a)(s,5),o=c[0],u=c[1],l=c[2],m=c[3],b=c[4],h=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),n(!1),e.next=4,a(je(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(d.a.mark((function e(r){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=Array.isArray(o.itemIngredients)?o.itemIngredients:o.itemIngredients.split(/\s*(?:,|$)\s*/),!m()){e.next=14;break}return e.prev=3,s=Object(re.a)(Object(re.a)({},t),{},{name:o.itemName,category:o.itemCategory,description:o.itemDescription,ingredients:n,price:o.itemPrice,availability:o.itemAvailability}),e.next=7,a(N(t._id,s));case 7:h(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(3),e.next=14,a(x(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(ue.a,{show:r,onHide:h,backdrop:"static",keyboard:!1,children:[Object(Y.jsx)(ue.a.Header,{closeButton:!0,children:Object(Y.jsx)(ue.a.Title,{children:"Make Updates to ".concat(t.name)})}),Object(Y.jsx)(me,{}),Object(Y.jsx)(ue.a.Body,{children:Object(Y.jsxs)(X.a,{id:"updateItemForm",onSubmit:p,children:[Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Name:"}),Object(Y.jsx)(X.a.Control,{value:o.itemName,maxLength:Z.itemForms.itemName.maxLength.value.toString(),onChange:function(e){var t=e.target;return u("itemName",t.value)},isInvalid:!!l.itemName}),Object(Y.jsx)(X.a.Text,{children:ee(o.itemName,Z.itemForms.itemName.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.itemName})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Category:"}),Object(Y.jsx)(X.a.Control,{value:o.itemCategory,maxLength:Z.itemForms.itemCategory.maxLength.value.toString(),onChange:function(e){var t=e.target;return u("itemCategory",t.value)},isInvalid:!!l.itemCategory}),Object(Y.jsx)(X.a.Text,{children:ee(o.itemCategory,Z.itemForms.itemCategory.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.itemCategory})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Description:"}),Object(Y.jsx)(X.a.Control,{value:o.itemDescription,maxLength:Z.itemForms.itemDescription.maxLength.value.toString(),onChange:function(e){var t=e.target;return u("itemDescription",t.value)},isInvalid:!!l.itemDescription}),Object(Y.jsx)(X.a.Text,{children:ee(o.itemDescription,Z.itemForms.itemDescription.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.itemDescription})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Ingredients:"}),Object(Y.jsx)(X.a.Control,{value:o.itemIngredients,maxLength:Z.itemForms.itemIngredients.maxLength.value.toString(),onChange:function(e){var t=e.target;return u("itemIngredients",t.value)},placeholder:"Separate with a comma",isInvalid:!!l.itemIngredients}),Object(Y.jsx)(X.a.Text,{children:ee(o.itemIngredients,Z.itemForms.itemIngredients.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.itemIngredients})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Price:"}),Object(Y.jsx)(X.a.Control,{value:o.itemPrice,maxLength:Z.itemForms.itemPrice.maxLength.value.toString(),onChange:function(e){var t=e.target;return u("itemPrice",t.value)},isInvalid:!!l.itemPrice}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.itemPrice})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Availability:"}),Object(Y.jsxs)("div",{className:"px-4 d-flex justify-content-between",children:[Object(Y.jsx)(X.a.Check,{inline:!0,label:"Available",name:"availability",type:"radio",id:"inline-radio-available",checked:"Available"===o.itemAvailability,value:"Available",onChange:function(e){var t=e.target;return u("itemAvailability",t.value)},isInvalid:!!l.itemAvailability}),Object(Y.jsx)(X.a.Check,{inline:!0,label:"Unavailable",name:"availability",type:"radio",id:"inline-radio-unavailable",checked:"Unavailable"===o.itemAvailability,value:"Unavailable",onChange:function(e){var t=e.target;return u("itemAvailability",t.value)},isInvalid:!!l.itemAvailability})]})]})]})}),Object(Y.jsxs)(ue.a.Footer,{children:[Object(Y.jsx)(H.a,{type:"submit",form:"updateItemForm",children:"Save"}),Object(Y.jsx)(H.a,{variant:"secondary",onClick:h,children:"Cancel"})]})]})})},he=function(e,t){return e.length>t?"".concat(e.substring(0,t+1)," ..."):e},pe=function(e){var t=e.item,r=Object(i.b)(),a=Object(n.useState)(!1),s=Object(Q.a)(a,2),c=s[0],o=s[1],u=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r(k(t))}catch(n){r(x(n))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,r(je(!0));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(oe.a,{className:"h-100",children:[Object(Y.jsxs)(oe.a.Header,{className:"m-0 py-3",children:[Object(Y.jsxs)(oe.a.Title,{className:"d-flex justify-content-between",children:[Object(Y.jsx)(oe.a.Text,{className:"mb-0 mr-2 text-wrap text-break",children:t.name}),Object(Y.jsx)(oe.a.Text,{className:"mb-0 ml-2",children:"$".concat(t.price)})]}),Object(Y.jsx)(oe.a.Subtitle,{className:"mb-2 text-muted",children:t.category}),Object(Y.jsx)(oe.a.Text,{className:"text-wrap text-break",children:t.description})]}),Object(Y.jsxs)(oe.a.Body,{className:"m-0 pt-3 pb-0",children:[Object(Y.jsx)(oe.a.Img,{src:"/assets/burger.svg"}),Object(Y.jsx)("hr",{className:"mb-0"})]}),Object(Y.jsxs)(oe.a.Body,{className:"m-0 py-3",children:[Object(Y.jsx)(oe.a.Text,{className:"m-0 p-0",children:Object(Y.jsx)("u",{children:"Ingredients:"})}),Object(Y.jsx)(oe.a.Text,{className:"m-0 p-0 text-wrap text-break",children:he(t.ingredients.join(", "),130)})]}),Object(Y.jsx)(oe.a.Footer,{className:"m-0 py-3",children:Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("h6",{className:"m-0 py-auto align-self-center",children:t.availability}),Object(Y.jsx)(H.a,{onClick:function(){return u(t._id)},size:"sm",variant:"outline-danger",style:{border:"hidden"},children:"Delete"}),Object(Y.jsx)(H.a,{onClick:l,className:"px-4",variant:"primary",children:"Edit"})]})})]},t._id),Object(Y.jsx)(be,{item:t,show:c,setShow:o})]})},xe=function(e){var t=e.category,r=Object(i.c)((function(e){return e.items}));return Object(Y.jsxs)(G.a,{children:[Object(Y.jsx)(B.a,{xs:1,md:2,lg:2,children:r.map((function(e){return e.category===t?Object(Y.jsx)(q.a,{className:"mx-0 mb-4",children:Object(Y.jsx)(pe,{item:e})},e._id):null}))}),Object(Y.jsx)("hr",{})]})},Oe=function(e){var t=e.show,r=e.setShow,n=Object(i.b)(),a=ae({itemName:"",itemCategory:"",itemDescription:"",itemIngredients:[],itemPrice:"",itemAvailability:"Unavailable"}),s=Object(Q.a)(a,5),c=s[0],o=s[1],u=s[2],l=s[3],m=s[4],b=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(),r(!1),e.next=4,n(je(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=Array.isArray(c.itemIngredients)?c.itemIngredients:c.itemIngredients.split(/\s*(?:,|$)\s*/),!l()){e.next=14;break}return e.prev=3,a={name:c.itemName,category:c.itemCategory,description:c.itemDescription,ingredients:r,price:c.itemPrice,availability:c.itemAvailability},e.next=7,n(w(a));case 7:b(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(3),e.next=14,n(x(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)(ue.a,{show:t,onHide:b,backdrop:"static",keyboard:!1,dialogClassName:"modal-70w",children:[Object(Y.jsx)(ue.a.Header,{closeButton:!0,children:Object(Y.jsx)(ue.a.Title,{children:"Make A New Creation"})}),Object(Y.jsx)(me,{}),Object(Y.jsx)(ue.a.Body,{children:Object(Y.jsxs)(X.a,{id:"newItemForm",onSubmit:h,children:[Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Name:"}),Object(Y.jsx)(X.a.Control,{value:c.itemName,maxLength:Z.itemForms.itemName.maxLength.value.toString(),onChange:function(e){var t=e.target;return o("itemName",t.value)},isInvalid:!!u.itemName}),Object(Y.jsx)(X.a.Text,{children:ee(c.itemName,Z.itemForms.itemName.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:u.itemName})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Category:"}),Object(Y.jsx)(X.a.Control,{value:c.itemCategory,maxLength:Z.itemForms.itemCategory.maxLength.value.toString(),onChange:function(e){var t=e.target;return o("itemCategory",t.value)},isInvalid:!!u.itemCategory}),Object(Y.jsx)(X.a.Text,{children:ee(c.itemCategory,Z.itemForms.itemCategory.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:u.itemCategory})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Description:"}),Object(Y.jsx)(X.a.Control,{value:c.itemDescription,maxLength:Z.itemForms.itemDescription.maxLength.value.toString(),onChange:function(e){var t=e.target;return o("itemDescription",t.value)},isInvalid:!!u.itemDescription}),Object(Y.jsx)(X.a.Text,{children:ee(c.itemDescription,Z.itemForms.itemDescription.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:u.itemDescription})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Ingredients:"}),Object(Y.jsx)(X.a.Control,{value:c.itemIngredients,maxLength:Z.itemForms.itemIngredients.maxLength.value.toString(),onChange:function(e){var t=e.target;return o("itemIngredients",t.value)},placeholder:"Separate with a comma",isInvalid:!!u.itemIngredients}),Object(Y.jsx)(X.a.Text,{children:ee(c.itemIngredients,Z.itemForms.itemIngredients.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:u.itemIngredients})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Price:"}),Object(Y.jsx)(X.a.Control,{value:c.itemPrice,maxLength:Z.itemForms.itemPrice.maxLength.value.toString(),onChange:function(e){var t=e.target;return o("itemPrice",t.value)},isInvalid:!!u.itemPrice}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:u.itemPrice})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Availability:"}),Object(Y.jsxs)("div",{className:"px-4 d-flex justify-content-between",children:[Object(Y.jsx)(X.a.Check,{inline:!0,label:"Available",name:"availability",type:"radio",id:"inline-radio-available",checked:"Available"===c.itemAvailability,value:"Available",onChange:function(e){var t=e.target;return o("itemAvailability",t.value)},isInvalid:!!u.itemAvailability}),Object(Y.jsx)(X.a.Check,{inline:!0,label:"Unavailable",name:"availability",type:"radio",id:"inline-radio-unavailable",checked:"Unavailable"===c.itemAvailability,value:"Unavailable",onChange:function(e){var t=e.target;return o("itemAvailability",t.value)},isInvalid:!!u.itemAvailability})]})]}),Object(Y.jsx)(X.a.Group,{children:Object(Y.jsx)(X.a.File,{id:"itemImageFile",label:"Upload an item image",onChange:function(e){return console.log(e.target.files)}})})]})}),Object(Y.jsxs)(ue.a.Footer,{children:[Object(Y.jsx)(H.a,{type:"submit",form:"newItemForm",children:"Create Item"}),Object(Y.jsx)(H.a,{variant:"secondary",onClick:b,children:"Cancel"})]})]})})},ge=r(72),ve=r(62),fe=function(e){var t=e.children,r=e.eventKey,n=Object(ve.b)(r);return Object(Y.jsx)("div",{type:"button",role:"button",tabIndex:"0",onClick:n,onKeyDown:n,children:t})},ye=function(e){var t=e.children,r=e.text;return Object(Y.jsx)(ge.a,{children:Object(Y.jsxs)(oe.a,{className:"mb-2 border-0",children:[Object(Y.jsxs)(fe,{eventKey:"0",children:[Object(Y.jsx)("h4",{className:"mtb-4 text-muted",children:r}),Object(Y.jsx)("hr",{})]}),Object(Y.jsx)(ge.a.Collapse,{eventKey:"0",children:Object(Y.jsx)(oe.a.Body,{className:"p-0",children:t})})]})})},we=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return Object(O.a)(new Set(e.items.map((function(e){return e.category}))))})),r=Object(n.useState)(!1),a=Object(Q.a)(r,2),s=a[0],c=a[1],o=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,e(je(!0));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Y.jsxs)(G.a,{className:"pt-5",children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("h1",{className:"m-0",children:"Cook Book"}),Object(Y.jsx)(H.a,{onClick:o,variant:"outline-secondary",children:"CREATE"})]}),Object(Y.jsx)("hr",{}),t.map((function(e){return Object(Y.jsx)(ye,{text:e,children:Object(Y.jsx)(xe,{category:e})},e)})),Object(Y.jsx)(Oe,{show:s,setShow:c})]})},Ne=function(e){var t=e.item,r=e.setShowCustomize,n=e.setSelectedItem,a=Object(i.b)(),s=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(t),r(!0),e.next=4,a(je(!0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)(oe.a,{className:"h-100",children:[Object(Y.jsxs)(oe.a.Header,{className:"m-0 py-3",children:[Object(Y.jsxs)(oe.a.Title,{className:"d-flex justify-content-between",children:[Object(Y.jsx)(oe.a.Text,{className:"mb-0 mr-2 text-wrap text-break",children:t.name}),Object(Y.jsx)(oe.a.Text,{className:"mb-0 ml-2",children:"$".concat(t.price)})]}),Object(Y.jsx)(oe.a.Subtitle,{className:"mb-2 text-muted",children:t.category}),Object(Y.jsx)(oe.a.Text,{className:"text-wrap text-break",children:t.description})]}),Object(Y.jsxs)(oe.a.Body,{className:"m-0 pt-3 pb-0",children:[Object(Y.jsx)(oe.a.Img,{src:"/assets/burger.svg"}),Object(Y.jsx)("hr",{className:"mb-0"})]}),Object(Y.jsxs)(oe.a.Body,{className:"m-0 py-3",children:[Object(Y.jsx)(oe.a.Text,{className:"m-0 p-0",children:Object(Y.jsx)("u",{children:"Ingredients:"})}),Object(Y.jsx)(oe.a.Text,{className:"m-0 p-0 text-wrap text-break",children:he(t.ingredients.join(", "),130)})]}),Object(Y.jsx)(oe.a.Footer,{className:"m-0 py-3",children:Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("h6",{className:"m-0 py-auto align-self-center",children:t.availability}),"Available"===t.availability?Object(Y.jsx)(H.a,{onClick:s,children:"Make it Yours"}):Object(Y.jsx)(H.a,{disabled:!0,children:"Add to Order"})]})})]},t._id)},ke=function(e){var t=e.category,r=e.setShowCustomize,n=e.setSelectedItem,a=Object(i.c)((function(e){return e.items}));return Object(Y.jsx)(ye,{text:t,children:Object(Y.jsxs)(G.a,{children:[Object(Y.jsx)(B.a,{xs:1,md:2,lg:2,children:a.map((function(e){return e.category===t?Object(Y.jsx)(q.a,{className:"mx-0 mb-4",children:Object(Y.jsx)(Ne,{item:e,setShowCustomize:r,setSelectedItem:n})},e._id):null}))}),Object(Y.jsx)("hr",{})]})})},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],isUpdating:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_ORDER":case"SET_ORDER":return t.data;case"RESET_ORDER":return{items:[],isUpdating:!1};case"ADD_ORDER_ITEM":return Object(re.a)(Object(re.a)({},e),{},{items:[].concat(Object(O.a)(e.items),[t.data])});case"UPDATE_ORDER_ITEM":return Object(re.a)(Object(re.a)({},e),{},{items:Object(O.a)(e.items.map((function(e){return e.uniqueId!==t.data.uniqueId?e:t.data})))});case"DELETE_ORDER_ITEM":return Object(re.a)(Object(re.a)({},e),{},{items:Object(O.a)(e.items.filter((function(e){return e.uniqueId!==t.data.id})))});case"SET_ORDER_UPDATING":return Object(re.a)(Object(re.a)({},e),{},{isUpdating:t.data});default:return e}},Le=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"SET_ORDER",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ee=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"RESET_ORDER"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Se=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ADD_ORDER_ITEM",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"UPDATE_ORDER_ITEM",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Fe=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"SET_ORDER_UPDATING",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=function(e){var t=e.item,r=e.setItem,a=e.show,s=e.setShow,c=e.isUpdating,o=Object(i.b)(),u=Object(n.useState)([]),l=Object(Q.a)(u,2),m=l[0],b=l[1],h=Object(n.useState)([]),p=Object(Q.a)(h,2),O=p[0],g=p[1],v=Object(n.useState)(""),f=Object(Q.a)(v,2),y=f[0],w=f[1],N=Object(n.useState)(""),k=Object(Q.a)(N,2),C=k[0],L=k[1];Object(n.useEffect)((function(){g(t.modIngredients),w(t.whos||""),L(t.notes||"")}),[t]),Object(n.useEffect)((function(){var e=t.ingredients?t.ingredients.map((function(e){return{ingredient:e,checked:!0}})):{};b(e)}),[t]);var E=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(""),L(""),g([]),r({}),s(!1),e.next=7,o(je(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(d.a.mark((function e(r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,n=Object(re.a)(Object(re.a)({},t),{},{modIngredients:O,whos:y,notes:C}),e.next=5,o(Ie(n));case 5:E(),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,o(x(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(d.a.mark((function e(r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,n={baseItemId:t._id,baseName:t.name,baseIngredients:t.ingredients,basePrice:t.price,modIngredients:m,whos:y,notes:C,uniqueId:t.uniqueId||t._id+y+Math.random()},e.next=5,o(Se(n));case 5:return e.next=7,E();case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,o(x(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)(ue.a,{show:a,onHide:E,dialogClassName:"modal-60w",backdrop:"static",keyboard:!1,scrollable:!0,children:[Object(Y.jsx)(ue.a.Header,{closeButton:!0,children:Object(Y.jsx)(ue.a.Title,{children:"Customizing Your ".concat(t.baseName)})}),Object(Y.jsx)(ue.a.Body,{children:Object(Y.jsxs)(X.a,{id:"updateCustomItemForm",children:[Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Who's is it?"}),Object(Y.jsx)(X.a.Control,{value:y.trimStart(),maxLength:"30",onChange:function(e){var t=e.target;return w(t.value)}}),Object(Y.jsx)(X.a.Text,{children:ee(y,30)})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Comes With"}),t.modIngredients?t.modIngredients.map((function(e){return Object(Y.jsx)(X.a.Check,{id:e.ingredient,type:"checkbox",label:e.ingredient,defaultChecked:e.checked,onChange:function(e){g(O.map((function(t){return t.ingredient===e.target.id?Object(re.a)(Object(re.a)({},t),{},{checked:e.target.checked}):t})))}},e.ingredient)})):t.ingredients&&t.ingredients.map((function(e){return Object(Y.jsx)(X.a.Check,{id:e,type:"checkbox",label:e,defaultChecked:!0,onChange:function(e){b(m.map((function(t){return t.ingredient===e.target.id?Object(re.a)(Object(re.a)({},t),{},{checked:e.target.checked}):t})))}},e)}))]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Anything else we should know?"}),Object(Y.jsx)(X.a.Control,{value:C,maxLength:"150",placeholder:"e.g. peanut allergy",onChange:function(e){var t=e.target;return L(t.value)}}),Object(Y.jsx)(X.a.Text,{children:C&&ee(C,150)})]})]})}),Object(Y.jsxs)(ue.a.Footer,{className:"d-flex justify-content-between",children:[Object(Y.jsx)(H.a,{variant:"outline-warning",onClick:E,children:"Cancel"}),c?Object(Y.jsx)(H.a,{onClick:S,children:"Update"}):Object(Y.jsx)(H.a,{onClick:I,children:"Add to Order"})]})]})},Re=function(){var e=Object(b.g)(),t=Object(i.c)((function(e){return Object(O.a)(new Set(e.items.map((function(e){return e.category}))))})),r=Object(n.useState)({}),a=Object(Q.a)(r,2),s=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(Q.a)(o,2),l=u[0],m=u[1];return Object(Y.jsxs)(G.a,{className:"pt-5",children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("h1",{className:"m-0",children:"Menu"}),Object(Y.jsx)(H.a,{onClick:function(){return e.push("/my-order")},variant:"outline-secondary",children:"My Order"})]}),Object(Y.jsx)("hr",{}),t.map((function(e){return Object(Y.jsx)(ke,{category:e,setShowCustomize:m,setSelectedItem:c},e)})),Object(Y.jsx)(Te,{item:s,setItem:c,show:l,setShow:m})]})},Me=function(){return Object(Y.jsxs)(G.a,{className:"pt-5",children:[Object(Y.jsx)("h1",{className:"m-0",children:"Order Confirmation"}),Object(Y.jsx)("hr",{}),Object(Y.jsx)("h4",{children:"Your Order Has Been Confirmed"})]})},De=function(e){var t=e.setCosts,r=Object(i.c)((function(e){return e.currentOrder})),a=Object(n.useState)(0),s=Object(Q.a)(a,2),c=s[0],o=s[1],u=Object(n.useState)(0),l=Object(Q.a)(u,2),m=l[0],d=l[1],j=Object(n.useState)(0),b=Object(Q.a)(j,2),h=b[0],p=b[1],x=.07;return Object(n.useEffect)((function(){if(r.items&&r.items.length>0){var e=r.items.map((function(e){return e.basePrice})).reduce((function(e,t){return e+t})),n=Math.round(e*x*100)/100,a=100*(e+n)/100;o(e),d(n),p(a),t({getSubTotal:e,taxRate:x,getTaxAmount:n,getTotal:a})}}),[r.items,t]),Object(Y.jsxs)("div",{className:"d-flex justify-content-between flex-wrap",children:[Object(Y.jsxs)("div",{className:"mr-2 text-left",children:[Object(Y.jsx)("h6",{className:"m-0 p-0",children:"Sub Total:"}),Object(Y.jsx)("p",{className:"m-0 p-0",children:Object(Y.jsx)("small",{children:"Tax Rate:"})}),Object(Y.jsx)("h6",{className:"m-0 py-0",children:"Tax Amount:"})]}),Object(Y.jsxs)("div",{className:"ml-2 text-right",children:[Object(Y.jsxs)("h6",{className:"m-0 p-0",children:["$",c]}),Object(Y.jsx)("p",{className:"m-0 p-0",children:Object(Y.jsxs)("small",{children:["x",x]})}),Object(Y.jsxs)("h6",{className:"m-0 p-0",children:["$",m]})]}),Object(Y.jsxs)("h4",{className:"m-0 ml-auto mt-auto pt-auto font-weight-bold text-right",children:["Total: $",h]})]})},Ae=r(82),Ue=r(71),_e=function(e){var t=e.form,r=e.setForm,n=e.errors;return Object(Y.jsxs)(X.a,{id:"OrderDetailsForm",children:[Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsxs)(Ae.a,{toggle:!0,children:[Object(Y.jsx)(Ue.a,{type:"radio",name:"carry-out-toggle",variant:"outline-primary",value:t.orderCategory,checked:"Carry Out"===t.orderCategory,onChange:function(){return r("orderCategory","Carry Out")},children:"Carry Out"}),Object(Y.jsx)(Ue.a,{type:"radio",name:"delivery-toggle",variant:"outline-primary",value:t.orderCategory,checked:"Delivery"===t.orderCategory,onChange:function(){return r("orderCategory","Delivery")},children:"Delivery"})]}),Object(Y.jsx)(X.a.Text,{children:"".concat(t.orderCategory," selected.")}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:n.orderCategory})]}),Object(Y.jsxs)(X.a.Row,{className:"ml-0 mr-0",children:[Object(Y.jsx)(q.a,{lg:"auto",className:"pl-0",children:Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Name: "}),Object(Y.jsx)(X.a.Control,{value:t.orderName.trimStart(),minLength:Z.orderForms.orderName.minLength.value.toString(),maxLength:Z.orderForms.orderName.maxLength.value.toString(),onChange:function(e){var t=e.target;return r("orderName",t.value)},placeholder:"e.g. Jane Doe",isInvalid:!!n.orderName}),Object(Y.jsx)(X.a.Text,{children:ee(t.orderName,Z.orderForms.orderName.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:n.orderName})]})}),Object(Y.jsx)(q.a,{className:"pr-0",children:Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Order Notes:"}),Object(Y.jsx)(X.a.Control,{value:t.orderNotes.trimStart(),maxLength:Z.orderForms.orderNotes.maxLength.value.toString(),onChange:function(e){var t=e.target;return r("orderNotes",t.value)},isInvalid:!!n.orderNotes}),Object(Y.jsx)(X.a.Text,{children:ee(t.orderNotes,Z.orderForms.orderNotes.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:n.orderNotes})]})})]})]})},Pe=function(e){var t=e.setSelectedItem,r=e.setShowCustomize,n=Object(i.b)(),a=Object(i.c)((function(e){return e.currentOrder.items})),s=function(){var e=Object(j.a)(d.a.mark((function e(s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(a.find((function(e){return e.uniqueId===s}))),r(!0),e.next=4,n(je(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){n(function(e){return function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"DELETE_ORDER_ITEM",data:{id:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(Y.jsx)(Y.Fragment,{children:a&&a.length>0&&a.map((function(e){return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("h2",{className:"my-0 py-2",children:e.baseName}),Object(Y.jsx)("h2",{className:"my-0 py-2 text-capitalize",children:e.whos})]}),Object(Y.jsxs)("div",{className:"my-0",children:[Object(Y.jsx)("h6",{className:"my-0 pt-2 pb-1",children:"Ingredients:"}),Object(Y.jsx)("p",{className:"my-0 px-4 py-0",children:e.modIngredients.filter((function(e){return e.checked})).map((function(e){return e.ingredient})).join(", ")}),Object(Y.jsx)("p",{className:"my-0 px-4 py-0",children:Object(Y.jsx)("small",{children:"Exclusions: ".concat(e.modIngredients.filter((function(e){return!e.checked})).map((function(e){return e.ingredient})).join(", "))})}),e.notes&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("h6",{className:"my-0 py-2",children:"Notes:"}),Object(Y.jsx)("p",{className:"my-0 px-4 py-0",children:e.notes})]})]}),Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsxs)("div",{className:"my-auto",children:[Object(Y.jsx)(H.a,{onClick:function(){return c(e.uniqueId)},variant:"outline-danger",size:"sm",style:{border:"hidden"},children:"Remove"}),Object(Y.jsx)(H.a,{onClick:function(){return s(e.uniqueId)},variant:"outline-secondary",size:"sm",style:{border:"hidden"},children:"Edit"})]}),Object(Y.jsx)("p",{className:"my-0 py-2",children:"Item Total: $".concat(e.basePrice)})]})]}),Object(Y.jsx)("hr",{className:"mt-0"})]},e.uniqueId)}))})},qe=function(e){var t=e.order,r=e.show,a=e.setShow,s=Object(i.b)(),c=Object(b.g)(),o=Object(i.c)((function(e){return e.currentOrder})),u=ae({orderCategory:t.category,orderName:t.name,orderNotes:t.notes}),l=Object(Q.a)(u,5),m=l[0],h=l[1],p=l[2],O=l[3],g=l[4],v=Object(n.useState)(!1),f=Object(Q.a)(v,2),y=f[0],w=f[1],N=Object(n.useState)({}),k=Object(Q.a)(N,2),C=k[0],L=k[1],E=Object(n.useState)(t.costs),S=Object(Q.a)(E,2),I=S[0],T=S[1],R=function(){var e=Object(j.a)(d.a.mark((function e(){var t,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],e.next=3,s(Ee());case 3:return e.next=5,s(je(!1));case 5:t&&g(),a(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(je(!1));case 2:return e.next=4,s(Fe(!0));case 4:c.push("/menu");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(d.a.mark((function e(r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!O()){e.next=15;break}return e.prev=2,n={category:m.orderCategory,items:o.items,name:m.orderName,notes:m.orderNotes,costs:{subTotal:I.subTotal,taxRate:I.taxRate,taxAmount:I.taxAmount,total:I.total}},e.next=6,s(F(t._id,n));case 6:h({orderCategory:m.orderCategory,orderName:m.orderName,orderNotes:m.orderNotes}),R(!1),s(Fe(!1)),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,s(x(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(ue.a,{show:r,onHide:R,dialogClassName:"modal-60w",backdrop:"static",keyboard:!1,scrollable:!0,children:[Object(Y.jsx)(ue.a.Header,{closeButton:!0,children:Object(Y.jsxs)(ue.a.Title,{children:["Editing ".concat(t.name,"'s Order"),Object(Y.jsx)("h6",{children:"ID: ".concat(t._id)})]})}),Object(Y.jsx)(me,{}),Object(Y.jsxs)(ue.a.Body,{children:[Object(Y.jsx)(_e,{form:m,setForm:h,errors:p}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(Pe,{setSelectedItem:L,setShowCustomize:w}),Object(Y.jsx)(De,{setCosts:T})]}),Object(Y.jsxs)(ue.a.Footer,{className:"d-flex justify-content-between",children:[Object(Y.jsx)(H.a,{variant:"outline-warning",onClick:R,children:"Cancel"}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(H.a,{className:"mx-2",variant:"outline-secondary",onClick:M,children:"Add Items"}),Object(Y.jsx)(H.a,{className:"mx-2",onClick:D,children:"Save Updates"})]})]})]}),Object(Y.jsx)(Te,{item:C,setItem:L,show:y,setShow:w,isUpdating:!0})]})},Ge=function(e){var t=e.order,r=Object(i.b)(),a=Object(n.useState)(!1),s=Object(Q.a)(a,2),c=s[0],o=s[1],u=function(e){return{"In Progress":"#0062cc",Complete:"#28a745",Canceled:"#dc3545"}[e]},l=function(){var e=Object(j.a)(d.a.mark((function e(n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="Complete"===n.status?Object(re.a)(Object(re.a)({},n),{},{status:"In Progress"}):Object(re.a)(Object(re.a)({},n),{},{status:"Complete"}),e.next=4,r(F(t._id,a));case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,r(x(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(T(t));case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,r(x(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Le(t));case 2:return e.prev=2,e.next=5,o(!0);case 5:return e.next=7,r(Fe(!0));case 7:return e.next=9,r(je(!0));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,r(x(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",style:{color:u(t.status)},children:[Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h2",{children:t.name}),Object(Y.jsx)("h6",{children:"ID: ".concat(t._id)})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h2",{style:{color:u(t.status)},children:t.status}),Object(Y.jsx)("p",{children:Object(Y.jsx)("small",{children:"Updated: ".concat(new Date(t.updatedAt).toLocaleString())})})]}),Object(Y.jsx)("div",{}),Object(Y.jsxs)("div",{className:"text-right",children:[Object(Y.jsx)("h2",{children:t.category}),Object(Y.jsx)("h4",{children:"Items: ".concat(t.items&&t.items.length)})]})]}),Object(Y.jsx)("p",{children:"Notes: ".concat(t.notes)}),Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsxs)("div",{className:"align-self-center",children:[Object(Y.jsx)(H.a,{onClick:function(){return m(t._id)},variant:"outline-danger",size:"sm",style:{border:"hidden"},className:"mr-5 px-2",children:"Remove"}),Object(Y.jsx)(H.a,{onClick:b,variant:"outline-secondary",size:"sm",style:{border:"hidden"},className:"mx-2 px-5",disabled:"Complete"===t.status,children:"Edit"}),Object(Y.jsx)(H.a,{onClick:function(){return l(t)},variant:"outline-success",size:"sm",style:{border:"hidden"},className:"mx-2 px-5",children:"In Progress"===t.status?"Mark as 'Complete'":"Mark as 'In Progress'"})]}),Object(Y.jsxs)("div",{className:"mx-2",children:[Object(Y.jsx)("p",{className:"m-0",children:"Subtotal: ".concat(t.costs.subTotal)}),Object(Y.jsx)("p",{className:"m-0 text-right",children:"Total: ".concat(t.costs.total)})]})]}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(qe,{order:t,show:c,setShow:o})]})},Be=function(e){var t=e.orders,r=Object(n.useState)(t),a=Object(Q.a)(r,2),s=a[0],c=a[1];return Object(n.useEffect)((function(){var e=function(e){var t=["In Progress","Complete"];return e.slice().sort((function(e,r){return t.indexOf(e.status)-t.indexOf(r.status)}))}(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.slice().sort((function(e,r){return t?new Date(r.updatedAt)-new Date(e.updatedAt):new Date(e.updatedAt)-new Date(r.updatedAt)}))}(t));c(e)}),[t]),Object(Y.jsx)(Y.Fragment,{children:t&&s.map((function(e){return Object(Y.jsx)(Ge,{order:e},e._id)}))})},He=function(){var e=Object(i.b)(),t=Object(b.g)(),r=Object(i.c)((function(e){return e.currentOrder})),a=Object(i.c)((function(e){return e.orders})),s=Object(n.useState)(!1),c=Object(Q.a)(s,2),o=c[0],u=c[1],l=Object(n.useState)({}),m=Object(Q.a)(l,2),h=m[0],p=m[1];Object(n.useEffect)((function(){var t=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getAll();case 2:r=e.sent,t({type:"INIT_ORDERS",data:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(x(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();try{t()}catch(n){r(n)}}),[e]);return Object(Y.jsxs)(G.a,{className:"pt-5",children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("h1",{className:"m-0",children:"Orders"}),Object(Y.jsx)(H.a,{onClick:function(){r.items.length>0?t.push("/my-order"):t.push("/menu")},variant:"outline-secondary",children:r.items&&r.items.length>0?"CURRENT ORDER":"NEW ORDER"})]}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(Be,{orders:a}),Object(Y.jsx)(Te,{item:h,setItem:p,show:o,setShow:u})]})},ze=function(e){var t=e.order,r=Object(i.b)(),a=Object(b.g)(),s=Object(i.c)((function(e){return t||e.currentOrder})),c=Object(i.c)((function(e){return e.currentUser})),o=Object(n.useState)(!1),u=Object(Q.a)(o,2),l=u[0],m=u[1],h=Object(n.useState)({}),p=Object(Q.a)(h,2),O=p[0],g=p[1],v=Object(n.useState)({}),f=Object(Q.a)(v,2),y=f[0],w=f[1],N=ae({orderCategory:s.category||"Carry Out",orderName:function(){var e;if(s.name)e=s.name;else if(c)e=c.name;else if(s&&s.items.length>0){var t=s.items.findIndex((function(e){return""!==e.whos}));console.log("itemswhosindex",t),-1!==t&&(e=s.items[t].whos),e=""}return e}()||"",orderNotes:s.notes||""}),k=Object(Q.a)(N,5),C=k[0],L=k[1],E=k[2],S=k[3],T=k[4],R=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(s.items.length<1)){e.next=6;break}return e.next=4,r(x({message:"No items in order!"}));case 4:e.next=26;break;case 6:if(!S()){e.next=26;break}if(e.prev=7,n={category:C.orderCategory,items:s.items,name:C.orderName,notes:C.orderNotes,costs:{subTotal:y.subTotal,taxRate:y.taxRate,taxAmount:y.taxAmount,total:y.total}},!s.isUpdating){e.next=14;break}return e.next=12,r(F(s._id,n));case 12:e.next=16;break;case 14:return e.next=16,r(I(n));case 16:return e.next=18,r(Ee());case 18:T(),a.push("/order-confirmed"),e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(7),e.next=26,r(x(e.t0));case 26:case"end":return e.stop()}}),e,null,[[7,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)(G.a,{className:"pt-5",children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("h1",{className:"m-0",children:s.name?"".concat(s.name,"'s Order"):"Your Order"}),Object(Y.jsx)("h6",{className:"align-self-center m-0",children:s._id?"ID: ".concat(s._id):null}),Object(Y.jsx)(H.a,{onClick:function(){return a.push("/menu")},variant:"outline-secondary",children:"Menu"})]}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(_e,{form:C,setForm:L,errors:E}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(Pe,{setSelectedItem:g,setShowCustomize:m}),Object(Y.jsx)(De,{setCosts:w}),Object(Y.jsx)("hr",{style:{marginTop:"8px"}}),Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)(H.a,{variant:"outline-warning",onClick:function(){r(Ee()),T(),a.push("/menu")},children:"Cancel"}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(H.a,{onClick:function(){return a.push("/menu")},className:"mx-2",variant:"outline-secondary",children:"Add More"}),Object(Y.jsx)(H.a,{className:"mx-2",onClick:R,children:s.isUpdating?"Save Updates":"Checkout"})]})]}),Object(Y.jsx)(Te,{item:O,setItem:g,show:l,setShow:m,isUpdating:!0})]})},Ke=function(){var e=Object(i.c)((function(e){return e.currentUser}));return Object(Y.jsxs)(G.a,{className:"pt-5",children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("h1",{className:"m-0",children:"My Account"}),Object(Y.jsx)("h1",{children:e.name})]}),Object(Y.jsx)("hr",{}),Object(Y.jsx)("p",{children:"Name: ".concat(e.name)}),Object(Y.jsx)("p",{children:"Email: ".concat(e.email)}),Object(Y.jsx)("p",{children:"Username: ".concat(e.username)}),Object(Y.jsx)("p",{children:"Role: ".concat(e.role.name)}),Object(Y.jsx)("h2",{className:"pt-5",children:"Previous Orders"}),Object(Y.jsx)("hr",{}),e.orders&&e.orders.map((function(e){return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h4",{children:"".concat(new Date(e.updatedAt).toLocaleString())}),Object(Y.jsx)("h6",{children:"ID: ".concat(e._id)})]}),Object(Y.jsxs)("div",{className:"text-right",children:[Object(Y.jsx)("h2",{children:e.category}),Object(Y.jsx)("h4",{children:"Items: ".concat(e.items&&e.items.length)})]})]}),Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("p",{children:"Notes: ".concat(e.notes)}),Object(Y.jsx)("p",{className:"m-0 text-right",children:"Total: ".concat(e.costs.total)})]}),Object(Y.jsx)("hr",{})]},e._id)}))]})},We=function(e){var t=e.show,r=e.setShow,n=Object(i.b)(),a=Object(i.c)((function(e){return e.currentUser})),s=ae({usersName:"",email:"",username:"",roleName:"user"}),c=Object(Q.a)(s,5),o=c[0],u=c[1],l=c[2],m=c[3],b=c[4],h=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),r(!1),e.next=4,n(je(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!m()){e.next=12;break}return e.prev=2,r={name:o.usersName,email:o.email,username:o.username,password:"password",role:{name:o.roleName}},e.next=6,n(U(r,a));case 6:h(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n(x(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)(ue.a,{show:t,onHide:h,backdrop:"static",keyboard:!1,children:[Object(Y.jsx)(ue.a.Header,{closeButton:!0,children:Object(Y.jsx)(ue.a.Title,{children:"Add A New User"})}),Object(Y.jsx)(me,{}),Object(Y.jsx)(ue.a.Body,{children:Object(Y.jsxs)(X.a,{id:"newUserForm",children:[Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Full Name:"}),Object(Y.jsx)(X.a.Control,{type:"text",value:o.usersName.trimStart(),maxLength:Z.userForms.usersName.maxLength.value.toString(),placeholder:"Jane Doe",onChange:function(e){var t=e.target;return u("usersName",t.value)},isInvalid:!!l.usersName}),Object(Y.jsx)(X.a.Text,{children:ee(o.usersName,Z.userForms.usersName.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.usersName})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Email:"}),Object(Y.jsx)(X.a.Control,{type:"email",value:o.email.trimStart(),minLength:Z.userForms.email.minLength.value.toString(),maxLength:Z.userForms.email.maxLength.value.toString(),placeholder:"abc@123.com",onChange:function(e){var t=e.target;return u("email",t.value)},isInvalid:!!l.email}),Object(Y.jsx)(X.a.Text,{children:ee(o.email,Z.userForms.email.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.email})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Username:"}),Object(Y.jsx)(X.a.Control,{type:"text",value:o.username.trimStart(),minLength:Z.userForms.username.minLength.value.toString(),maxLength:Z.userForms.username.maxLength.value.toString(),onChange:function(e){var t=e.target;return u("username",t.value)},isInvalid:!!l.username}),Object(Y.jsx)(X.a.Text,{children:ee(o.username,Z.userForms.username.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.username})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Role:"}),Object(Y.jsxs)("div",{className:"px-4 d-flex justify-content-between",children:[Object(Y.jsx)(X.a.Check,{inline:!0,label:"Admin",name:"roles",type:"radio",id:"inline-radio-admin",checked:"admin"===o.roleName,value:"admin",onChange:function(e){var t=e.target;return u("roleName",t.value)},isInvalid:!!l.roleName}),Object(Y.jsx)(X.a.Check,{inline:!0,label:"Manager",name:"roles",type:"radio",id:"inline-radio-manager",checked:"manager"===o.roleName,value:"manager",onChange:function(e){var t=e.target;return u("roleName",t.value)},isInvalid:!!l.roleName}),Object(Y.jsx)(X.a.Check,{inline:!0,label:"Employee",name:"roles",type:"radio",id:"inline-radio-employee",checked:"employee"===o.roleName,value:"employee",onChange:function(e){var t=e.target;return u("roleName",t.value)},isInvalid:!!l.roleName}),Object(Y.jsx)(X.a.Check,{inline:!0,label:"User",name:"roles",type:"radio",id:"inline-radio-user",checked:"user"===o.roleName,value:"user",onChange:function(e){var t=e.target;return u("roleName",t.value)},isInvalid:!!l.roleName})]}),l.roleName&&Object(Y.jsx)("small",{style:{color:"#dc3545"},children:l.roleName})]})]})}),Object(Y.jsxs)(ue.a.Footer,{children:[Object(Y.jsx)(H.a,{type:"submit",onClick:p,children:"Create User"}),Object(Y.jsx)(H.a,{variant:"secondary",onClick:h,children:"Cancel"})]})]})},$e=function(e){var t=e.user,r=e.show,n=e.setShow,a=Object(i.b)(),s=ae({usersName:t.name,email:t.email,username:t.username,roleName:t.role.name}),c=Object(Q.a)(s,5),o=c[0],u=c[1],l=c[2],m=c[3],b=c[4],h=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),n(!1),e.next=4,a(je(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(d.a.mark((function e(r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!m()){e.next=12;break}return e.prev=2,n=Object(re.a)(Object(re.a)({},t),{},{name:o.usersName,email:o.email,username:o.username,password:null,role:{name:o.roleName}}),e.next=6,a(_(t.id,n));case 6:h(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a(x(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsxs)(ue.a,{show:r,onHide:h,backdrop:"static",keyboard:!1,children:[Object(Y.jsx)(ue.a.Header,{closeButton:!0,children:Object(Y.jsx)(ue.a.Title,{children:"Update ".concat(t.username)})}),Object(Y.jsx)(me,{}),Object(Y.jsx)(ue.a.Body,{children:Object(Y.jsxs)(X.a,{id:"newUserForm",children:[Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Full Name:"}),Object(Y.jsx)(X.a.Control,{type:"text",value:o.usersName,maxLength:Z.userForms.usersName.maxLength.value.toString(),placeholder:"Jane Doe",onChange:function(e){var t=e.target;return u("usersName",t.value)},isInvalid:!!l.usersName}),Object(Y.jsx)(X.a.Text,{children:ee(o.usersName,Z.userForms.usersName.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.usersName})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Email:"}),Object(Y.jsx)(X.a.Control,{type:"email",value:o.email.trimStart(),minLength:Z.userForms.email.minLength.value.toString(),maxLength:Z.userForms.email.maxLength.value.toString(),placeholder:"abc@123.com",onChange:function(e){var t=e.target;return u("email",t.value)},isInvalid:!!l.email}),Object(Y.jsx)(X.a.Text,{children:ee(o.email,Z.userForms.email.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.email})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Username:"}),Object(Y.jsx)(X.a.Control,{type:"text",value:o.username.trimStart(),minLength:Z.userForms.username.minLength.value.toString(),maxLength:Z.userForms.username.maxLength.value.toString(),onChange:function(e){var t=e.target;return u("username",t.value)},isInvalid:!!l.username}),Object(Y.jsx)(X.a.Text,{children:ee(o.username,Z.userForms.username.maxLength.value)}),Object(Y.jsx)(X.a.Control.Feedback,{type:"invalid",children:l.username})]}),Object(Y.jsxs)(X.a.Group,{children:[Object(Y.jsx)(X.a.Label,{children:"Role:"}),Object(Y.jsxs)("div",{className:"px-4 d-flex justify-content-between",children:[Object(Y.jsx)(X.a.Check,{inline:!0,label:"Admin",name:"roles",type:"radio",id:"inline-radio-admin",checked:"admin"===o.roleName,value:"admin",onChange:function(e){var t=e.target;return u("roleName",t.value)},isInvalid:!!l.roleName}),Object(Y.jsx)(X.a.Check,{inline:!0,label:"Manager",name:"roles",type:"radio",id:"inline-radio-manager",checked:"manager"===o.roleName,value:"manager",onChange:function(e){var t=e.target;return u("roleName",t.value)},isInvalid:!!l.roleName}),Object(Y.jsx)(X.a.Check,{inline:!0,label:"Employee",name:"roles",type:"radio",id:"inline-radio-employee",checked:"employee"===o.roleName,value:"employee",onChange:function(e){var t=e.target;return u("roleName",t.value)},isInvalid:!!l.roleName}),Object(Y.jsx)(X.a.Check,{inline:!0,label:"User",name:"roles",type:"radio",id:"inline-radio-user",checked:"user"===o.roleName,value:"user",onChange:function(e){var t=e.target;return u("roleName",t.value)},isInvalid:!!l.roleName})]}),l.roleName&&Object(Y.jsx)("small",{style:{color:"#dc3545"},children:l.roleName})]})]})}),Object(Y.jsxs)(ue.a.Footer,{children:[Object(Y.jsx)(H.a,{type:"submit",onClick:p,children:"Save Updates"}),Object(Y.jsx)(H.a,{variant:"secondary",onClick:h,children:"Cancel"})]})]})},Je=function(e){var t=e.user,r=Object(i.b)(),a=Object(n.useState)(!1),s=Object(Q.a)(a,2),c=s[0],o=s[1],u=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(P(t));case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,r(x(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,r(je(!0));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h2",{children:t.username}),Object(Y.jsx)("p",{children:t.role&&t.role.name})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(H.a,{onClick:l,size:"sm",variant:"outline-secondary",children:"UPDATE"}),Object(Y.jsx)(H.a,{onClick:function(){return u(t.id)},size:"sm",variant:"outline-secondary",children:"DELETE"})]})]}),Object(Y.jsx)($e,{user:t,show:c,setShow:o})]})},Ye=function(){var e=Object(i.c)((function(e){return e.users})),t=Object(n.useState)(e),r=Object(Q.a)(t,2),a=r[0],s=r[1];return Object(n.useEffect)((function(){var t=function(e){var t=["admin","manager","employee","user","guest"];return Object(O.a)(e).sort((function(e,r){return t.indexOf(e.role.name)-t.indexOf(r.role.name)}))}(e);s(t)}),[e]),Object(Y.jsx)("div",{children:e&&a.map((function(e){return Object(Y.jsx)(Je,{user:e},e.id)}))})},Ve=function(){var e=Object(i.b)(),t=Object(n.useState)(!1),r=Object(Q.a)(t,2),a=r[0],s=r[1];Object(n.useEffect)((function(){var t=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getAll();case 2:r=e.sent,t({type:"INIT_USERS",data:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(x(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();try{t()}catch(n){r(n)}}));var c=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,e(je(!0));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Y.jsxs)(G.a,{className:"pt-5",children:[Object(Y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(Y.jsx)("h1",{className:"m-0",children:"Users Page"}),Object(Y.jsx)(H.a,{onClick:c,variant:"outline-secondary",children:"NEW USER"})]}),Object(Y.jsx)(We,{show:a,setShow:s}),Object(Y.jsx)("hr",{}),Object(Y.jsx)(Ye,{})]})},Qe=function(e){var t=e.children;return Object(i.c)((function(e){return e.modalOpen}))?null:t},Xe=function(e){var t=e.authGroup,r=Object(i.c)((function(e){return e.currentUser&&e.currentUser.role?e.currentUser.role.encompassedRoles:[]}));return{admin:["admin","manager","employee","user","guest"],manager:["manager","employee","user","guest"],employee:["employee","user","guest"],user:["user","guest"],guest:["guest"]}[t].every((function(e){return r.includes(e)}))?Object(Y.jsx)(b.b,Object(re.a)({},e)):Object(Y.jsx)(b.a,{to:"/"})};var Ze=Object(b.h)((function(e){var t=e.history;return Object(n.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[t]),null})),et=r(24),tt=function(){return Object(Y.jsx)("footer",{className:"mt-5 p-5",style:{backgroundColor:"#ff5959",height:"200px"},children:Object(Y.jsx)(G.a,{children:Object(Y.jsxs)(B.a,{children:[Object(Y.jsxs)(q.a,{children:[Object(Y.jsx)("h6",{children:"Quick Links"}),Object(Y.jsxs)(et.a,{className:"flex-column",children:[Object(Y.jsx)(et.a.Link,{as:o.b,to:"/",className:"p-0 text-light",children:"Home"}),Object(Y.jsx)(et.a.Link,{as:o.b,to:"/menu",className:"p-0 text-light",children:"Menu"}),Object(Y.jsx)(et.a.Link,{as:o.b,to:"/my-order",className:"p-0 text-light",children:"My Order"})]})]}),Object(Y.jsxs)(q.a,{children:[Object(Y.jsx)("h6",{children:"Admin Links"}),Object(Y.jsxs)(et.a,{className:"flex-column",children:[Object(Y.jsx)(et.a.Link,{as:o.b,to:"/orders",className:"p-0 text-light",children:"Orders"}),Object(Y.jsx)(et.a.Link,{as:o.b,to:"/items",className:"p-0 text-light",children:"Items"}),Object(Y.jsx)(et.a.Link,{as:o.b,to:"/users",className:"p-0 text-light",children:"Users"})]})]}),Object(Y.jsxs)(q.a,{children:[Object(Y.jsx)("h6",{children:"About"}),Object(Y.jsx)("p",{className:"text-light",children:"Words Here"})]})]})})})},rt=r(48);var nt=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(Q.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){var e=function(){a({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),r},at=function(e){var t=e.show,r=e.setShow,n=nt();return Object(Y.jsxs)(ue.a,{show:t,onHide:function(){return r(!1)},className:"p-0",dialogClassName:n.width<576?"":"modal-20w mr-5",fullscreen:n.width<576?"below-sm-down":"",keyboard:!1,scrollable:!0,children:[Object(Y.jsx)(ue.a.Header,{closeButton:!0,children:Object(Y.jsx)(ue.a.Title,{children:"Login"})}),Object(Y.jsx)(ue.a.Body,{children:Object(Y.jsx)(se,{setShow:r})}),Object(Y.jsx)(ue.a.Footer,{children:Object(Y.jsxs)("p",{children:["Not a member?",Object(Y.jsx)("a",{href:"/",children:" Register today!"})]})})]})},st=function(e){var t=e.setShow;return Object(Y.jsx)(H.a,{onClick:function(){return t(!0)},variant:"outline-secondary",size:"sm",children:"Login"})},ct=function(){var e=Object(i.b)(),t=Object(b.g)(),r=function(){var r=Object(j.a)(d.a.mark((function r(){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(J());case 3:t.push("/"),r.next=10;break;case 6:return r.prev=6,r.t0=r.catch(0),r.next=10,e(x(r.t0));case 10:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(){return r.apply(this,arguments)}}();return Object(Y.jsx)(H.a,{onClick:r,variant:"outline-secondary",size:"sm",children:"Logout"})},it=function(){var e=Object(n.useState)(!1),t=Object(Q.a)(e,2),r=t[0],a=t[1],s=Object(i.c)((function(e){return e.currentUser})),c=Object(i.c)((function(e){return e.currentUser&&e.currentUser.role?e.currentUser.role.encompassedRoles:[]}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(rt.a,{collapseOnSelect:!0,expand:"lg",sticky:"top",bg:"warning",variant:"light",children:[Object(Y.jsx)(rt.a.Brand,{as:o.b,to:"/",children:"Nodo-Manager"}),Object(Y.jsx)(rt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Y.jsxs)(rt.a.Collapse,{id:"basic-navbar-nav",children:[Object(Y.jsxs)(et.a,{className:"mr-auto",children:[Object(Y.jsx)(et.a.Link,{eventKey:"1",as:o.b,to:"/menu",children:"Menu"}),s&&Object(Y.jsx)(et.a.Link,{eventKey:"2",as:o.b,to:"/my-account",children:"My Account"}),Object(Y.jsx)(et.a.Link,{eventKey:"3",as:o.b,to:"/my-order",children:"My Order"})]}),["admin","manager","employee"].some((function(e){return c.includes(e)}))?Object(Y.jsxs)(et.a,{className:"ml-auto border-right border-secondary",children:[Object(Y.jsx)(et.a.Link,{eventKey:"4",as:o.b,to:"/orders",children:"Orders"}),Object(Y.jsx)(et.a.Link,{eventKey:"5",as:o.b,to:"/items",children:"Items"}),Object(Y.jsx)(et.a.Link,{eventKey:"6",as:o.b,to:"/users",children:"Users"})]}):null,s?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(rt.a.Text,{className:"px-2",children:Object(Y.jsx)("small",{children:"Signed in as: ".concat(s.username)})}),Object(Y.jsx)(ct,{})]}):Object(Y.jsx)(st,{setShow:a})]})]}),Object(Y.jsx)(at,{show:r,setShow:a})]})};var ot=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.currentUser}));return Object(n.useEffect)((function(){var t=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({type:"RESET_ORDERS"});case 2:return t.next=4,e({type:"RESET_USERS"});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getAll();case 2:r=e.sent,t({type:"INIT_ITEMS",data:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(j.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(x(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();try{t(),r()}catch(a){n(a)}}),[e,t]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(it,{}),Object(Y.jsx)(Qe,{children:Object(Y.jsx)(me,{})}),Object(Y.jsxs)("div",{style:{minHeight:"calc(100vh - 200px)"},children:[Object(Y.jsx)(Ze,{}),Object(Y.jsxs)(b.d,{children:[Object(Y.jsx)(Xe,{path:"/items",authGroup:"employee",children:Object(Y.jsx)(we,{})}),Object(Y.jsx)(b.b,{path:"/menu",children:Object(Y.jsx)(Re,{})}),Object(Y.jsx)(b.b,{path:"/my-order",children:Object(Y.jsx)(ze,{})}),Object(Y.jsx)(b.b,{path:"/order-confirmed",children:Object(Y.jsx)(Me,{})}),Object(Y.jsx)(Xe,{path:"/orders",authGroup:"employee",children:Object(Y.jsx)(He,{})}),Object(Y.jsx)(Xe,{path:"/my-account",authGroup:"user",children:Object(Y.jsx)(Ke,{})}),Object(Y.jsx)(Xe,{path:"/users",authGroup:"employee",children:Object(Y.jsx)(Ve,{})}),Object(Y.jsx)(b.b,{path:"/",children:Object(Y.jsx)(ie,{})}),Object(Y.jsx)(b.b,{path:"*",children:Object(Y.jsx)("h2",{children:"Not Found"})})]})]}),Object(Y.jsx)(tt,{})]})},ut=r(53),lt=r(83),mt=r(84),dt=Object(ut.combineReducers)({alert:h,currentOrder:Ce,currentUser:W,items:y,modalOpen:de,orders:S,users:A});var jt=Object(ut.createStore)(dt,Object(mt.composeWithDevTools)(Object(ut.applyMiddleware)(lt.a))),bt=(r(119),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,122)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))});c.a.render(Object(Y.jsx)(a.a.StrictMode,{children:Object(Y.jsx)(o.a,{children:Object(Y.jsx)(i.a,{store:jt,children:Object(Y.jsx)(ot,{})})})}),document.getElementById("root")),bt()},4:function(e,t){var r={itemForms:{itemAvailability:{isEmpty:{errorMessage:"Choose an availability."}},itemCategory:{isEmpty:{errorMessage:"An item category is required."},maxLength:{value:50,errorMessage:"Category is too long."}},itemDescription:{maxLength:{value:150,errorMessage:"Description is too long!"}},itemIngredients:{maxLength:{value:250,errorMessage:"Ingredients list has too many characters."}},itemName:{isEmpty:{errorMessage:"An item name is required."},maxLength:{value:50,errorMessage:"Item name is too long"}},itemPrice:{isEmpty:{errorMessage:"A price is required."},isNaN:{errorMessage:"Price must be a number."},isNegative:{errorMessage:"Price cannot be negative."},maxLength:{value:10,errorMessage:"Price is too large."}}},orderForms:{orderCategory:{isEmpty:{errorMessage:"A Category is required."}},orderName:{isEmpty:{errorMessage:"An Order Name is required."},minLength:{value:3,errorMessage:"Order Name is too short"},maxLength:{value:30,errorMessage:"Order Name is too long"}},orderNotes:{maxLength:{value:150,errorMessage:"Order Notes are too long"}}},userForms:{email:{isEmpty:{errorMessage:"Enter an email!"},noAtSymbol:{errorMessage:"Email must include '@'"},minLength:{value:5,errorMessage:"Email is too short"},maxLength:{value:50,errorMessage:"Email is too long"}},passcopy:{isEmpty:{errorMessage:"Reenter your password!"},mismatched:{errorMessage:"Passwords do not match!"}},password:{isEmpty:{errorMessage:"Enter a password!"},minLength:{value:5,errorMessage:"Password is too short"},maxLength:{value:50,errorMessage:"Password is too long"}},roleName:{isEmpty:{errorMessage:"A role must be selected."},reqAdmin:{errorMessage:"Requires Admin privileges."},reqManager:{errorMessage:"Requires Manager privileges."},reqEmployee:{errorMessage:"Requires Employee privileges."}},username:{isEmpty:{errorMessage:"Enter a username!"},minLength:{value:2,errorMessage:"Username is too short"},maxLength:{value:30,errorMessage:"Username is too long"}},usersName:{isEmpty:{errorMessage:"A Name is required."},maxLength:{value:50,errorMessage:"Name is too long"}}}};e.exports=r}},[[120,1,2]]]);
//# sourceMappingURL=main.11e59778.chunk.js.map